(this["webpackJsonpsecret-santa"]=this["webpackJsonpsecret-santa"]||[]).push([[0],{142:function(e,n){},144:function(e,n){},155:function(e,n){},157:function(e,n){},184:function(e,n){},186:function(e,n){},187:function(e,n){},192:function(e,n){},194:function(e,n){},213:function(e,n){},225:function(e,n){},228:function(e,n){},253:function(e,n,t){},254:function(e,n,t){},255:function(e,n,t){},257:function(e,n,t){},258:function(e,n,t){"use strict";t.r(n);var r=t(1),c=t(0),i=t.n(c),o=t(120),s=t.n(o),u=t(6),l=t(7),a=t(18),j=t(5),b=t.n(j),d=t(14),p=t(122),O=t(44),f=t.n(O),h=(t(123),function(e){var n,t=e.giver,i=e.receiver,o=Object(c.useState)("Copy link"),s=Object(l.a)(o,2),u=s[0],a=s[1];return Object(r.jsx)(p.CopyToClipboard,{text:"".concat(window.location.origin.toString(),"/?giver=").concat(t,"&key=").concat((n=i,f.a.encrypt(n,"alsherkonikol"))),children:Object(r.jsx)("a",{href:"#",onClick:function(){a("Copied"),setTimeout((function(){a("Copy link")}),1e3)},children:u})})}),x=function(e){var n=e.pairs,t=e.showGroups;return n.length<1?null:Object(r.jsxs)("table",{children:[Object(r.jsxs)("thead",{children:[Object(r.jsxs)("tr",{children:[Object(r.jsx)("th",{colSpan:t?2:1,children:"\u0422\u0430\u0439\u043d\u044b\u0439 \u0441\u0430\u043d\u0442\u0430"}),Object(r.jsx)("th",{colSpan:t?2:1,children:"\u041f\u043e\u043b\u0443\u0447\u0430\u0442\u0435\u043b\u044c \u043f\u043e\u0434\u0430\u0440\u043a\u0430"})]}),t&&Object(r.jsxs)("tr",{children:[Object(r.jsx)("th",{children:"\u0418\u043c\u044f"}),Object(r.jsx)("th",{children:"\u0413\u0440\u0443\u043f\u043f\u0430"}),Object(r.jsx)("th",{children:"\u0418\u043c\u044f"}),Object(r.jsx)("th",{children:"\u0413\u0440\u0443\u043f\u043f\u0430"})]})]}),Object(r.jsx)("tbody",{children:n.map((function(e){var n=Object(l.a)(e,2),c=n[0],i=n[1];return Object(r.jsxs)("tr",{children:[Object(r.jsx)("td",{children:c.name}),t&&Object(r.jsx)("td",{children:c.group}),Object(r.jsx)("td",{children:Object(r.jsx)(h,{giver:c.name,receiver:i.name})}),t&&Object(r.jsx)("td",{children:i.group})]},c.name)}))})]})},m=t(124),g=function(e){return Object(m.a)(e,{timeout:5e3}).map((function(n,t){return[e[t],n]}))},v=(t(253),function(e){var n=e.person,t=Object(c.useState)([]),i=Object(l.a)(t,2),o=i[0],s=i[1],u=Object(c.useState)(null),a=Object(l.a)(u,2),j=a[0],p=a[1],O=Object(c.useState)(!1),f=Object(l.a)(O,2),h=f[0],m=f[1];Object(c.useLayoutEffect)((function(){s([])}),[n]);var v=function(){var e=Object(d.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:p(null);try{s(g(n))}catch(t){p(new Error("\u041d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u0441\u043e\u0432\u043f\u0430\u0434\u0435\u043d\u0438\u0435 \u0441 \u0443\u043a\u0430\u0437\u0430\u043d\u043d\u044b\u043c\u0438 \u043b\u044e\u0434\u044c\u043c\u0438, \u0438\u043b\u0438 \u043f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430. \u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0435 \u0440\u0430\u0437 \u0438\u043b\u0438 \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u0435 \u0441\u0432\u043e\u044e \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044e, \u0447\u0442\u043e\u0431\u044b \u043f\u043e\u0437\u0432\u043e\u043b\u0438\u0442\u044c \u043a\u0430\u0436\u0434\u043e\u043c\u0443 \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u0442\u044c \u0441 \u043a\u0435\u043c-\u0442\u043e.")),s([])}case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("button",{onClick:v,type:"button",disabled:n.length<3,children:"\u0421\u043e\u0432\u043f\u0430\u0434\u0435\u043d\u0438\u044f"}),Object(r.jsxs)("label",{style:{paddingLeft:"15px"},children:[Object(r.jsx)("input",{type:"checkbox",onChange:function(){return m((function(e){return!e}))},checked:h}),"\u041f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c \u0433\u0440\u0443\u043f\u043f\u044b"]}),j&&Object(r.jsx)("p",{className:"error",children:j.message}),Object(r.jsx)(x,{pairs:j?[]:o,showGroups:h})]})});function y(){return(y=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}function k(e,n){if(null==e)return{};var t,r,c=function(e,n){if(null==e)return{};var t,r,c={},i=Object.keys(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||(c[t]=e[t]);return c}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(c[t]=e[t])}return c}var w=c.createElement("line",{x1:18,y1:6,x2:6,y2:18}),S=c.createElement("line",{x1:6,y1:6,x2:18,y2:18});function C(e,n){var t=e.title,r=e.titleId,i=k(e,["title","titleId"]);return c.createElement("svg",y({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",ref:n,"aria-labelledby":r},i),t?c.createElement("title",{id:r},t):null,w,S)}var N=c.forwardRef(C),E=(t.p,function(e){var n=e.onClick;return Object(r.jsx)("button",{onClick:n,className:"muted",title:"Remove",type:"button",children:Object(r.jsx)(N,{"aria-hidden":!0})})}),I=function(e){var n=e.person,t=e.removePerson,i=Object(c.useMemo)((function(){return function(e){return e.reduce((function(e,n){var t,r=e.find((function(e){var t;return e.group===(null!==(t=n.group)&&void 0!==t?t:null)}));return r?r.person.push(n):e.push({group:null!==(t=n.group)&&void 0!==t?t:null,person:[n]}),e}),[]).sort((function(e,n){return null===e.group||null===n.group?1:e.group.localeCompare(n.group)}))}(n)}),[n]);return n.length?Object(r.jsx)(r.Fragment,{children:Object(r.jsx)("ul",{children:i.map((function(e){var n,c="person-group-".concat(null!==(n=e.group)&&void 0!==n?n:"fba449b5-deb3-400c-991c-4bac2bb1ad33");return Object(r.jsxs)("li",{children:[Object(r.jsx)("span",{id:c,children:null===e.group?"\u041d\u0435\u0442 \u0433\u0440\u0443\u043f\u043f\u044b":e.group}),Object(r.jsx)("ul",{"aria-labelledby":c,children:e.person.map((function(e){return Object(r.jsxs)("li",{children:[e.name," ",Object(r.jsx)(E,{onClick:function(){return t(e)}})]},e.name)}))})]},c)}))})}):null},F=t(37),P=t(125),G=function(e){var n=e.children;return Object(r.jsx)("span",{className:"validation",children:n})},J=(t(254),function(e){var n=e.usedNames,t=e.usedGroups,c=e.onSubmit,i=Object(F.b)(),o=i.errors,s=i.handleSubmit,u=i.register,l=i.reset;return Object(r.jsx)("form",{onSubmit:s((function(e){c({name:e["person-name"],group:""===e["person-group"]?void 0:e["person-group"]}),l()})),children:Object(r.jsxs)("fieldset",{children:[Object(r.jsx)("legend",{children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u043e\u0432\u043e\u0433\u043e \u0447\u0435\u043b\u043e\u0432\u0435\u043a\u0430"}),Object(r.jsx)("label",{htmlFor:"person-name",className:"label-required",children:"\u0418\u043c\u044f"}),Object(r.jsx)("input",{id:"person-name",name:"person-name",type:"text","aria-required":!0,ref:u({required:"\u0422\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044f \u0438\u043c\u044f",validate:function(e){return e&&!n.includes(e)||"\u0418\u043c\u044f \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0443\u043d\u0438\u043a\u0430\u043b\u044c\u043d\u044b\u043c"}})}),Object(r.jsx)(P.a,{errors:o,name:"person-name",as:G}),Object(r.jsx)("label",{htmlFor:"person-group",children:"\u0413\u0440\u0443\u043f\u043f\u0430"}),Object(r.jsx)("input",{id:"person-group",name:"person-group",type:"text",list:"groupOptions",autoComplete:"off",ref:u}),Object(r.jsx)("datalist",{id:"groupOptions",children:t.map((function(e){return Object(r.jsx)("option",{children:e},e)}))}),Object(r.jsx)("p",{className:"meta",children:"\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435 \u0433\u0440\u0443\u043f\u043f\u044b \u0434\u043b\u044f \u043f\u0440\u043e\u0441\u0442\u044b\u0445 \u0438\u0441\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0439, \u043b\u044e\u0434\u0438 \u0432 \u043e\u0434\u043d\u043e\u0439 \u0433\u0440\u0443\u043f\u043f\u0435 \u043d\u0435 \u043f\u043e\u043f\u0430\u0434\u0430\u044e\u0442 \u0434\u0440\u0443\u0433 \u0434\u0440\u0443\u0433\u0443."}),Object(r.jsx)("button",{type:"submit",children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0447\u0435\u043b\u043e\u0432\u0435\u043a\u0430"})]})})}),L=(t(255),function(e){return"string"===typeof e}),M=function(){var e=function(e,n){var t=Object(c.useState)((function(){var t=localStorage.getItem(e);return null!==t?JSON.parse(t):n})),r=Object(l.a)(t,2),i=r[0],o=r[1];return Object(c.useEffect)((function(){localStorage.setItem(e,JSON.stringify(i))}),[i,e]),[i,o]}("secret-santa-person",[]),n=Object(l.a)(e,2),t=n[0],i=n[1],o=Object(c.useMemo)((function(){return t.map((function(e){return e.name}))}),[t]),s=Object(c.useMemo)((function(){return Object(u.a)(new Set(t.map((function(e){return e.group})).filter(L)))}),[t]);return Object(r.jsxs)("main",{children:[Object(r.jsxs)("section",{children:[Object(r.jsx)("p",{children:"\u0421\u043e\u0437\u0434\u0430\u0439\u0442\u0435 \u0441\u043e\u0432\u043f\u0430\u0434\u0435\u043d\u0438\u0435 \u0438\u043c\u0435\u043d \u0434\u043b\u044f \u043e\u0431\u043c\u0435\u043d\u0430 \u043f\u043e\u0434\u0430\u0440\u043a\u0430\u043c\u0438. \u041f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u0442 \u0433\u0440\u0443\u043f\u043f\u0438\u0440\u043e\u0432\u043a\u0443 \u043b\u044e\u0434\u0435\u0439, \u0434\u043b\u044f \u0438\u0441\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f \u043d\u0430 \u043e\u0441\u043d\u043e\u0432\u0435 \u0438\u043c\u0435\u043d\u0438 \u0433\u0440\u0443\u043f\u043f\u044b."}),Object(r.jsx)("button",{className:"danger",onClick:function(){i([])},children:"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c"})]}),Object(r.jsxs)(a.e,{children:[Object(r.jsxs)(a.b,{children:[Object(r.jsx)(a.a,{children:"\u041b\u044e\u0434\u0438"}),Object(r.jsx)(a.a,{disabled:t.length<3,children:"\u0421\u043e\u0432\u043f\u0430\u0434\u0435\u043d\u0438\u044f"})]}),Object(r.jsxs)(a.d,{children:[Object(r.jsxs)(a.c,{children:[Object(r.jsx)(J,{usedNames:o,usedGroups:s,onSubmit:function(e){i((function(n){return n.concat(e)}))}}),Object(r.jsx)(I,{person:t,removePerson:function(e){i((function(n){return n.filter((function(n){return n.name!==e.name}))}))}})]}),Object(r.jsx)(a.c,{children:Object(r.jsx)(v,{person:t})})]})]})]})},q=function(){return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("header",{children:Object(r.jsxs)("h1",{children:["\u0422\u0430\u0439\u043d\u044b\u0439 \u0421\u0430\u043d\u0442\u0430",Object(r.jsx)("span",{role:"presentation","aria-hidden":"true",children:"\ud83c\udf85\ud83c\udffc"})]})}),Object(r.jsx)(M,{})]})};t(256),t(257);s.a.render(Object(r.jsx)(i.a.StrictMode,{children:Object(r.jsx)(q,{})}),document.getElementById("root"))}},[[258,1,2]]]);
//# sourceMappingURL=main.ecbe211f.chunk.js.map